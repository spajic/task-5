webpackJsonp([9],{

/***/ 197:
/*!************************************************!*\
  !*** ./app/javascript/packs/sidebarWidget.jsx ***!
  \************************************************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(/*! preact */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__sidebar_widget_SidebarWidget__ = __webpack_require__(/*! ../sidebar-widget/SidebarWidget */ 198);\n\n\n\nHTMLDocument.prototype.ready = new Promise(function (resolve) {\n  if (document.readyState !== 'loading') {\n    return resolve();\n  }\n  document.addEventListener('DOMContentLoaded', function () {\n    return resolve();\n  });\n});\n\nif (document.getElementById('widget-00001') === null) {\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"render\"])(Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1__sidebar_widget_SidebarWidget__[\"a\" /* default */], null), document.getElementById('sidebarWidget__pack'));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9wYWNrcy9zaWRlYmFyV2lkZ2V0LmpzeD9iNGFhIl0sIm5hbWVzIjpbIkhUTUxEb2N1bWVudCIsInByb3RvdHlwZSIsInJlYWR5IiwiUHJvbWlzZSIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsInJlc29sdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUFBLGFBQWFDLFNBQWIsQ0FBdUJDLEtBQXZCLEdBQStCLElBQUlDLE9BQUosQ0FBWSxtQkFBVztBQUNwRCxNQUFJQyxTQUFTQyxVQUFULEtBQXdCLFNBQTVCLEVBQXVDO0FBQ3JDLFdBQU9DLFNBQVA7QUFDRDtBQUNERixXQUFTRyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEM7QUFBQSxXQUFNRCxTQUFOO0FBQUEsR0FBOUM7QUFDRCxDQUw4QixDQUEvQjs7QUFPQSxJQUFJRixTQUFTSSxjQUFULENBQXdCLGNBQXhCLE1BQTRDLElBQWhELEVBQXNEO0FBQ3BEQyx3REFBTUEsQ0FBQyxrREFBQyw4RUFBRCxPQUFQLEVBQTBCTCxTQUFTSSxjQUFULENBQXdCLHFCQUF4QixDQUExQjtBQUNEIiwiZmlsZSI6IjE5Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGgsIHJlbmRlciB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgU2lkZWJhcldpZGdldCBmcm9tICcuLi9zaWRlYmFyLXdpZGdldC9TaWRlYmFyV2lkZ2V0JztcblxuSFRNTERvY3VtZW50LnByb3RvdHlwZS5yZWFkeSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XG4gICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgfVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gcmVzb2x2ZSgpKTtcbn0pO1xuXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpZGdldC0wMDAwMScpID09PSBudWxsKSB7XG4gIHJlbmRlcig8U2lkZWJhcldpZGdldCAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXJXaWRnZXRfX3BhY2snKSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9hcHAvamF2YXNjcmlwdC9wYWNrcy9zaWRlYmFyV2lkZ2V0LmpzeCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///197\n");

/***/ }),

/***/ 198:
/*!*********************************************************!*\
  !*** ./app/javascript/sidebar-widget/SidebarWidget.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(/*! preact */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src_utils_sendFollowUser__ = __webpack_require__(/*! ../src/utils/sendFollowUser */ 199);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__sidebarUser__ = __webpack_require__(/*! ./sidebarUser */ 200);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar SidebarWidget = function (_Component) {\n  _inherits(SidebarWidget, _Component);\n\n  function SidebarWidget(props) {\n    _classCallCheck(this, SidebarWidget);\n\n    var _this = _possibleConstructorReturn(this, (SidebarWidget.__proto__ || Object.getPrototypeOf(SidebarWidget)).call(this, props));\n\n    _this.getSuggestedUsers = _this.getSuggestedUsers.bind(_this);\n    _this.getTagInfo = _this.getTagInfo.bind(_this);\n    _this.followUser = _this.followUser.bind(_this);\n    _this.state = {\n      tagInfo: {},\n      suggestedUsers: []\n    };\n    return _this;\n  }\n\n  _createClass(SidebarWidget, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.getTagInfo();\n      this.getSuggestedUsers();\n    }\n  }, {\n    key: 'getTagInfo',\n    value: function getTagInfo() {\n      this.setState({\n        tagInfo: JSON.parse(document.getElementById('sidebarWidget__pack').dataset.tagInfo)\n      });\n    }\n  }, {\n    key: 'getSuggestedUsers',\n    value: function getSuggestedUsers() {\n      var _this2 = this;\n\n      fetch('/api/users?state=sidebar_suggestions&tag=' + this.state.tagInfo.name, {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        credentials: 'same-origin'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        _this2.setState({ suggestedUsers: json });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: 'followUser',\n    value: function followUser(user) {\n      var _this3 = this;\n\n      var updatedUser = user;\n      var updatedSuggestedUsers = this.state.suggestedUsers;\n      var userIndex = this.state.suggestedUsers.indexOf(user);\n\n      var followBtn = document.getElementById('widget-list-item__follow-button-' + updatedUser.username);\n      followBtn.innerText = updatedUser.following ? '+ FOLLOW' : '✓ FOLLOWING';\n\n      var toggleFollowState = function toggleFollowState(newFollowState) {\n        updatedUser.following = newFollowState === 'followed';\n        updatedSuggestedUsers[userIndex] = updatedUser;\n        _this3.setState({ suggestedUsers: updatedSuggestedUsers });\n      };\n      Object(__WEBPACK_IMPORTED_MODULE_1__src_utils_sendFollowUser__[\"a\" /* default */])(user, toggleFollowState);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var users = this.state.suggestedUsers.map(function (user, index) {\n        return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2__sidebarUser__[\"a\" /* default */], {\n          key: user.id,\n          user: user,\n          followUser: _this4.followUser,\n          index: index\n        });\n      });\n\n      if (this.state.suggestedUsers.length > 0) {\n        return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'div',\n          { className: 'widget', id: 'widget-00001' },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'div',\n            { className: 'widget-suggested-follows-container' },\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'header',\n              null,\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'h4',\n                null,\n                'who to follow'\n              )\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'div',\n              { className: 'widget-body' },\n              users\n            )\n          )\n        );\n      }\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('div', null);\n    }\n  }]);\n\n  return SidebarWidget;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SidebarWidget);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9zaWRlYmFyLXdpZGdldC9TaWRlYmFyV2lkZ2V0LmpzeD9iZmE5Il0sIm5hbWVzIjpbIlNpZGViYXJXaWRnZXQiLCJwcm9wcyIsImdldFN1Z2dlc3RlZFVzZXJzIiwiYmluZCIsImdldFRhZ0luZm8iLCJmb2xsb3dVc2VyIiwic3RhdGUiLCJ0YWdJbmZvIiwic3VnZ2VzdGVkVXNlcnMiLCJzZXRTdGF0ZSIsIkpTT04iLCJwYXJzZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJkYXRhc2V0IiwiZmV0Y2giLCJuYW1lIiwiaGVhZGVycyIsIkFjY2VwdCIsImNyZWRlbnRpYWxzIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwidXNlciIsInVwZGF0ZWRVc2VyIiwidXBkYXRlZFN1Z2dlc3RlZFVzZXJzIiwidXNlckluZGV4IiwiaW5kZXhPZiIsImZvbGxvd0J0biIsInVzZXJuYW1lIiwiaW5uZXJUZXh0IiwiZm9sbG93aW5nIiwidG9nZ2xlRm9sbG93U3RhdGUiLCJuZXdGb2xsb3dTdGF0ZSIsInNlbmRGb2xsb3dVc2VyIiwidXNlcnMiLCJtYXAiLCJpbmRleCIsImlkIiwibGVuZ3RoIiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7SUFFTUEsYTs7O0FBQ0oseUJBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQSw4SEFDWEEsS0FEVzs7QUFFakIsVUFBS0MsaUJBQUwsR0FBeUIsTUFBS0EsaUJBQUwsQ0FBdUJDLElBQXZCLE9BQXpCO0FBQ0EsVUFBS0MsVUFBTCxHQUFrQixNQUFLQSxVQUFMLENBQWdCRCxJQUFoQixPQUFsQjtBQUNBLFVBQUtFLFVBQUwsR0FBa0IsTUFBS0EsVUFBTCxDQUFnQkYsSUFBaEIsT0FBbEI7QUFDQSxVQUFLRyxLQUFMLEdBQWE7QUFDWEMsZUFBUyxFQURFO0FBRVhDLHNCQUFnQjtBQUZMLEtBQWI7QUFMaUI7QUFTbEI7Ozs7d0NBRW1CO0FBQ2xCLFdBQUtKLFVBQUw7QUFDQSxXQUFLRixpQkFBTDtBQUNEOzs7aUNBRVk7QUFDWCxXQUFLTyxRQUFMLENBQWM7QUFDWkYsaUJBQVNHLEtBQUtDLEtBQUwsQ0FDUEMsU0FBU0MsY0FBVCxDQUF3QixxQkFBeEIsRUFBK0NDLE9BQS9DLENBQXVEUCxPQURoRDtBQURHLE9BQWQ7QUFLRDs7O3dDQUVtQjtBQUFBOztBQUNsQlEsMERBQzhDLEtBQUtULEtBQUwsQ0FBV0MsT0FBWCxDQUFtQlMsSUFEakUsRUFFRTtBQUNFQyxpQkFBUztBQUNQQyxrQkFBUSxrQkFERDtBQUVQLDBCQUFnQjtBQUZULFNBRFg7QUFLRUMscUJBQWE7QUFMZixPQUZGLEVBVUdDLElBVkgsQ0FVUTtBQUFBLGVBQVlDLFNBQVNDLElBQVQsRUFBWjtBQUFBLE9BVlIsRUFXR0YsSUFYSCxDQVdRLGdCQUFRO0FBQ1osZUFBS1gsUUFBTCxDQUFjLEVBQUVELGdCQUFnQmMsSUFBbEIsRUFBZDtBQUNELE9BYkgsRUFjR0MsS0FkSCxDQWNTLGlCQUFTO0FBQ2RDLGdCQUFRQyxHQUFSLENBQVlDLEtBQVo7QUFDRCxPQWhCSDtBQWlCRDs7OytCQUVVQyxJLEVBQU07QUFBQTs7QUFDZixVQUFNQyxjQUFjRCxJQUFwQjtBQUNBLFVBQU1FLHdCQUF3QixLQUFLdkIsS0FBTCxDQUFXRSxjQUF6QztBQUNBLFVBQU1zQixZQUFZLEtBQUt4QixLQUFMLENBQVdFLGNBQVgsQ0FBMEJ1QixPQUExQixDQUFrQ0osSUFBbEMsQ0FBbEI7O0FBRUEsVUFBTUssWUFBWXBCLFNBQVNDLGNBQVQsc0NBQ21CZSxZQUFZSyxRQUQvQixDQUFsQjtBQUdBRCxnQkFBVUUsU0FBVixHQUFzQk4sWUFBWU8sU0FBWixHQUF3QixVQUF4QixHQUFxQyxhQUEzRDs7QUFFQSxVQUFNQyxvQkFBb0IsU0FBcEJBLGlCQUFvQixpQkFBa0I7QUFDMUNSLG9CQUFZTyxTQUFaLEdBQXdCRSxtQkFBbUIsVUFBM0M7QUFDQVIsOEJBQXNCQyxTQUF0QixJQUFtQ0YsV0FBbkM7QUFDQSxlQUFLbkIsUUFBTCxDQUFjLEVBQUVELGdCQUFnQnFCLHFCQUFsQixFQUFkO0FBQ0QsT0FKRDtBQUtBUyx3RkFBY0EsQ0FBQ1gsSUFBZixFQUFxQlMsaUJBQXJCO0FBQ0Q7Ozs2QkFFUTtBQUFBOztBQUNQLFVBQU1HLFFBQVEsS0FBS2pDLEtBQUwsQ0FBV0UsY0FBWCxDQUEwQmdDLEdBQTFCLENBQThCLFVBQUNiLElBQUQsRUFBT2MsS0FBUDtBQUFBLGVBQzFDLGtEQUFDLDZEQUFEO0FBQ0UsZUFBS2QsS0FBS2UsRUFEWjtBQUVFLGdCQUFNZixJQUZSO0FBR0Usc0JBQVksT0FBS3RCLFVBSG5CO0FBSUUsaUJBQU9vQztBQUpULFVBRDBDO0FBQUEsT0FBOUIsQ0FBZDs7QUFTQSxVQUFJLEtBQUtuQyxLQUFMLENBQVdFLGNBQVgsQ0FBMEJtQyxNQUExQixHQUFtQyxDQUF2QyxFQUEwQztBQUN4QyxlQUNFO0FBQUE7QUFBQSxZQUFLLFdBQVUsUUFBZixFQUF3QixJQUFHLGNBQTNCO0FBQ0U7QUFBQTtBQUFBLGNBQUssV0FBVSxvQ0FBZjtBQUNFO0FBQUE7QUFBQTtBQUFRO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBUixhQURGO0FBRUU7QUFBQTtBQUFBLGdCQUFLLFdBQVUsYUFBZjtBQUE4Qko7QUFBOUI7QUFGRjtBQURGLFNBREY7QUFRRDtBQUNELGFBQU8sOERBQVA7QUFDRDs7OztFQXBGeUJLLGlEOztBQXVGYjVDLHNFQUFmIiwiZmlsZSI6IjE5OC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGgsIENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgc2VuZEZvbGxvd1VzZXIgZnJvbSAnLi4vc3JjL3V0aWxzL3NlbmRGb2xsb3dVc2VyJztcbmltcG9ydCBTaWRlYmFyVXNlciBmcm9tICcuL3NpZGViYXJVc2VyJztcblxuY2xhc3MgU2lkZWJhcldpZGdldCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuZ2V0U3VnZ2VzdGVkVXNlcnMgPSB0aGlzLmdldFN1Z2dlc3RlZFVzZXJzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRUYWdJbmZvID0gdGhpcy5nZXRUYWdJbmZvLmJpbmQodGhpcyk7XG4gICAgdGhpcy5mb2xsb3dVc2VyID0gdGhpcy5mb2xsb3dVc2VyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRhZ0luZm86IHt9LFxuICAgICAgc3VnZ2VzdGVkVXNlcnM6IFtdLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmdldFRhZ0luZm8oKTtcbiAgICB0aGlzLmdldFN1Z2dlc3RlZFVzZXJzKCk7XG4gIH1cblxuICBnZXRUYWdJbmZvKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdGFnSW5mbzogSlNPTi5wYXJzZShcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXJXaWRnZXRfX3BhY2snKS5kYXRhc2V0LnRhZ0luZm8sXG4gICAgICApLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0U3VnZ2VzdGVkVXNlcnMoKSB7XG4gICAgZmV0Y2goXG4gICAgICBgL2FwaS91c2Vycz9zdGF0ZT1zaWRlYmFyX3N1Z2dlc3Rpb25zJnRhZz0ke3RoaXMuc3RhdGUudGFnSW5mby5uYW1lfWAsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgIH0sXG4gICAgKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdWdnZXN0ZWRVc2VyczoganNvbiB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZvbGxvd1VzZXIodXNlcikge1xuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gdXNlcjtcbiAgICBjb25zdCB1cGRhdGVkU3VnZ2VzdGVkVXNlcnMgPSB0aGlzLnN0YXRlLnN1Z2dlc3RlZFVzZXJzO1xuICAgIGNvbnN0IHVzZXJJbmRleCA9IHRoaXMuc3RhdGUuc3VnZ2VzdGVkVXNlcnMuaW5kZXhPZih1c2VyKTtcblxuICAgIGNvbnN0IGZvbGxvd0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgYHdpZGdldC1saXN0LWl0ZW1fX2ZvbGxvdy1idXR0b24tJHt1cGRhdGVkVXNlci51c2VybmFtZX1gLFxuICAgICk7XG4gICAgZm9sbG93QnRuLmlubmVyVGV4dCA9IHVwZGF0ZWRVc2VyLmZvbGxvd2luZyA/ICcrIEZPTExPVycgOiAn4pyTIEZPTExPV0lORyc7XG5cbiAgICBjb25zdCB0b2dnbGVGb2xsb3dTdGF0ZSA9IG5ld0ZvbGxvd1N0YXRlID0+IHtcbiAgICAgIHVwZGF0ZWRVc2VyLmZvbGxvd2luZyA9IG5ld0ZvbGxvd1N0YXRlID09PSAnZm9sbG93ZWQnO1xuICAgICAgdXBkYXRlZFN1Z2dlc3RlZFVzZXJzW3VzZXJJbmRleF0gPSB1cGRhdGVkVXNlcjtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdWdnZXN0ZWRVc2VyczogdXBkYXRlZFN1Z2dlc3RlZFVzZXJzIH0pO1xuICAgIH07XG4gICAgc2VuZEZvbGxvd1VzZXIodXNlciwgdG9nZ2xlRm9sbG93U3RhdGUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHVzZXJzID0gdGhpcy5zdGF0ZS5zdWdnZXN0ZWRVc2Vycy5tYXAoKHVzZXIsIGluZGV4KSA9PiAoXG4gICAgICA8U2lkZWJhclVzZXJcbiAgICAgICAga2V5PXt1c2VyLmlkfVxuICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICBmb2xsb3dVc2VyPXt0aGlzLmZvbGxvd1VzZXJ9XG4gICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgIC8+XG4gICAgKSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5zdWdnZXN0ZWRVc2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldFwiIGlkPVwid2lkZ2V0LTAwMDAxXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXQtc3VnZ2VzdGVkLWZvbGxvd3MtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aGVhZGVyPjxoND53aG8gdG8gZm9sbG93PC9oND48L2hlYWRlcj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0LWJvZHlcIj57dXNlcnN9PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIDxkaXYgLz47XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2lkZWJhcldpZGdldDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9qYXZhc2NyaXB0L3NpZGViYXItd2lkZ2V0L1NpZGViYXJXaWRnZXQuanN4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///198\n");

/***/ }),

/***/ 199:
/*!****************************************************!*\
  !*** ./app/javascript/src/utils/sendFollowUser.js ***!
  \****************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony export (immutable) */ __webpack_exports__[\"a\"] = sendFollowUser;\nfunction sendFollowUser(user, successCb) {\n  var csrfToken = document.querySelector(\"meta[name='csrf-token']\").content;\n\n  var formData = new FormData();\n  formData.append('followable_type', 'User');\n  formData.append('followable_id', user.id);\n  formData.append('verb', user.following ? 'unfollow' : 'follow');\n\n  fetch('/follows', {\n    method: 'POST',\n    headers: {\n      'X-CSRF-Token': csrfToken\n    },\n    body: formData,\n    credentials: 'same-origin'\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    successCb(json.outcome);\n    // json is followed or unfollowed\n  }).catch(function (error) {\n    console.log(error);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9zcmMvdXRpbHMvc2VuZEZvbGxvd1VzZXIuanM/NzNhMCJdLCJuYW1lcyI6WyJzZW5kRm9sbG93VXNlciIsInVzZXIiLCJzdWNjZXNzQ2IiLCJjc3JmVG9rZW4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImlkIiwiZm9sbG93aW5nIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImNyZWRlbnRpYWxzIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsIm91dGNvbWUiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBZSxTQUFTQSxjQUFULENBQXdCQyxJQUF4QixFQUE4QkMsU0FBOUIsRUFBeUM7QUFDdEQsTUFBTUMsWUFBWUMsU0FBU0MsYUFBVCxDQUF1Qix5QkFBdkIsRUFBa0RDLE9BQXBFOztBQUVBLE1BQU1DLFdBQVcsSUFBSUMsUUFBSixFQUFqQjtBQUNBRCxXQUFTRSxNQUFULENBQWdCLGlCQUFoQixFQUFtQyxNQUFuQztBQUNBRixXQUFTRSxNQUFULENBQWdCLGVBQWhCLEVBQWlDUixLQUFLUyxFQUF0QztBQUNBSCxXQUFTRSxNQUFULENBQWdCLE1BQWhCLEVBQXdCUixLQUFLVSxTQUFMLEdBQWlCLFVBQWpCLEdBQThCLFFBQXREOztBQUVBQyxRQUFNLFVBQU4sRUFBa0I7QUFDaEJDLFlBQVEsTUFEUTtBQUVoQkMsYUFBUztBQUNQLHNCQUFnQlg7QUFEVCxLQUZPO0FBS2hCWSxVQUFNUixRQUxVO0FBTWhCUyxpQkFBYTtBQU5HLEdBQWxCLEVBUUdDLElBUkgsQ0FRUTtBQUFBLFdBQVlDLFNBQVNDLElBQVQsRUFBWjtBQUFBLEdBUlIsRUFTR0YsSUFUSCxDQVNRLGdCQUFRO0FBQ1pmLGNBQVVpQixLQUFLQyxPQUFmO0FBQ0E7QUFDRCxHQVpILEVBYUdDLEtBYkgsQ0FhUyxpQkFBUztBQUNkQyxZQUFRQyxHQUFSLENBQVlDLEtBQVo7QUFDRCxHQWZIO0FBZ0JEIiwiZmlsZSI6IjE5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbmRGb2xsb3dVc2VyKHVzZXIsIHN1Y2Nlc3NDYikge1xuICBjb25zdCBjc3JmVG9rZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWV0YVtuYW1lPSdjc3JmLXRva2VuJ11cIikuY29udGVudDtcblxuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3JtRGF0YS5hcHBlbmQoJ2ZvbGxvd2FibGVfdHlwZScsICdVc2VyJyk7XG4gIGZvcm1EYXRhLmFwcGVuZCgnZm9sbG93YWJsZV9pZCcsIHVzZXIuaWQpO1xuICBmb3JtRGF0YS5hcHBlbmQoJ3ZlcmInLCB1c2VyLmZvbGxvd2luZyA/ICd1bmZvbGxvdycgOiAnZm9sbG93Jyk7XG5cbiAgZmV0Y2goJy9mb2xsb3dzJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdYLUNTUkYtVG9rZW4nOiBjc3JmVG9rZW4sXG4gICAgfSxcbiAgICBib2R5OiBmb3JtRGF0YSxcbiAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgfSlcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oanNvbiA9PiB7XG4gICAgICBzdWNjZXNzQ2IoanNvbi5vdXRjb21lKTtcbiAgICAgIC8vIGpzb24gaXMgZm9sbG93ZWQgb3IgdW5mb2xsb3dlZFxuICAgIH0pXG4gICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9qYXZhc2NyaXB0L3NyYy91dGlscy9zZW5kRm9sbG93VXNlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///199\n");

/***/ }),

/***/ 200:
/*!*******************************************************!*\
  !*** ./app/javascript/sidebar-widget/sidebarUser.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(/*! preact */ 1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types__ = __webpack_require__(/*! prop-types */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_prop_types__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar SidebarUser = function (_Component) {\n  _inherits(SidebarUser, _Component);\n\n  function SidebarUser(props) {\n    _classCallCheck(this, SidebarUser);\n\n    var _this = _possibleConstructorReturn(this, (SidebarUser.__proto__ || Object.getPrototypeOf(SidebarUser)).call(this, props));\n\n    _this.onClick = _this.onClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(SidebarUser, [{\n    key: 'onClick',\n    value: function onClick() {\n      this.props.followUser(this.props.user);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { className: 'widget-list-item__suggestions' },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'div',\n          { className: 'widget-list-item__content' },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'a',\n            { href: '/' + this.props.user.username },\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', {\n              src: this.props.user.profile_image_url,\n              alt: this.props.user.name,\n              className: 'widget-list-item__profile-pic'\n            }),\n            this.props.user.name\n          ),\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'button',\n            {\n              className: 'widget-list-item__follow-button',\n              type: 'button',\n              onClick: this.onClick,\n              id: 'widget-list-item__follow-button-' + this.props.user.username\n            },\n            this.props.user.following ? '✓ FOLLOWING' : '+ FOLLOW'\n          )\n        ),\n        this.props.index === 2 ? Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('br', null) : Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('hr', null)\n      );\n    }\n  }]);\n\n  return SidebarUser;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nSidebarUser.propTypes = {\n  followUser: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.func.isRequired,\n  user: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.object.isRequired,\n  index: __WEBPACK_IMPORTED_MODULE_1_prop_types___default.a.number.isRequired\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SidebarUser);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvamF2YXNjcmlwdC9zaWRlYmFyLXdpZGdldC9zaWRlYmFyVXNlci5qc3g/Y2VkYyJdLCJuYW1lcyI6WyJTaWRlYmFyVXNlciIsInByb3BzIiwib25DbGljayIsImJpbmQiLCJmb2xsb3dVc2VyIiwidXNlciIsInVzZXJuYW1lIiwicHJvZmlsZV9pbWFnZV91cmwiLCJuYW1lIiwiZm9sbG93aW5nIiwiaW5kZXgiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsIm9iamVjdCIsIm51bWJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztJQUVNQSxXOzs7QUFDSix1QkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLDBIQUNYQSxLQURXOztBQUVqQixVQUFLQyxPQUFMLEdBQWUsTUFBS0EsT0FBTCxDQUFhQyxJQUFiLE9BQWY7QUFGaUI7QUFHbEI7Ozs7OEJBRVM7QUFDUixXQUFLRixLQUFMLENBQVdHLFVBQVgsQ0FBc0IsS0FBS0gsS0FBTCxDQUFXSSxJQUFqQztBQUNEOzs7NkJBRVE7QUFDUCxhQUNFO0FBQUE7QUFBQSxVQUFLLFdBQVUsK0JBQWY7QUFDRTtBQUFBO0FBQUEsWUFBSyxXQUFVLDJCQUFmO0FBQ0U7QUFBQTtBQUFBLGNBQUcsWUFBVSxLQUFLSixLQUFMLENBQVdJLElBQVgsQ0FBZ0JDLFFBQTdCO0FBQ0U7QUFDRSxtQkFBSyxLQUFLTCxLQUFMLENBQVdJLElBQVgsQ0FBZ0JFLGlCQUR2QjtBQUVFLG1CQUFLLEtBQUtOLEtBQUwsQ0FBV0ksSUFBWCxDQUFnQkcsSUFGdkI7QUFHRSx5QkFBVTtBQUhaLGNBREY7QUFNRyxpQkFBS1AsS0FBTCxDQUFXSSxJQUFYLENBQWdCRztBQU5uQixXQURGO0FBU0U7QUFBQTtBQUFBO0FBQ0UseUJBQVUsaUNBRFo7QUFFRSxvQkFBSyxRQUZQO0FBR0UsdUJBQVMsS0FBS04sT0FIaEI7QUFJRSx1REFBdUMsS0FBS0QsS0FBTCxDQUFXSSxJQUFYLENBQWdCQztBQUp6RDtBQU1HLGlCQUFLTCxLQUFMLENBQVdJLElBQVgsQ0FBZ0JJLFNBQWhCLEdBQTRCLGFBQTVCLEdBQTRDO0FBTi9DO0FBVEYsU0FERjtBQW1CRyxhQUFLUixLQUFMLENBQVdTLEtBQVgsS0FBcUIsQ0FBckIsR0FBeUIsNkRBQXpCLEdBQWtDO0FBbkJyQyxPQURGO0FBdUJEOzs7O0VBbEN1QkMsaUQ7O0FBcUMxQlgsWUFBWVksU0FBWixHQUF3QjtBQUN0QlIsY0FBWVMsa0RBQVNBLENBQUNDLElBQVYsQ0FBZUMsVUFETDtBQUV0QlYsUUFBTVEsa0RBQVNBLENBQUNHLE1BQVYsQ0FBaUJELFVBRkQ7QUFHdEJMLFNBQU9HLGtEQUFTQSxDQUFDSSxNQUFWLENBQWlCRjtBQUhGLENBQXhCOztBQU1lZixvRUFBZiIsImZpbGUiOiIyMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoLCBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuY2xhc3MgU2lkZWJhclVzZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy5mb2xsb3dVc2VyKHRoaXMucHJvcHMudXNlcik7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0LWxpc3QtaXRlbV9fc3VnZ2VzdGlvbnNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXQtbGlzdC1pdGVtX19jb250ZW50XCI+XG4gICAgICAgICAgPGEgaHJlZj17YC8ke3RoaXMucHJvcHMudXNlci51c2VybmFtZX1gfT5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXt0aGlzLnByb3BzLnVzZXIucHJvZmlsZV9pbWFnZV91cmx9XG4gICAgICAgICAgICAgIGFsdD17dGhpcy5wcm9wcy51c2VyLm5hbWV9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIndpZGdldC1saXN0LWl0ZW1fX3Byb2ZpbGUtcGljXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLm5hbWV9XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIndpZGdldC1saXN0LWl0ZW1fX2ZvbGxvdy1idXR0b25cIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICBpZD17YHdpZGdldC1saXN0LWl0ZW1fX2ZvbGxvdy1idXR0b24tJHt0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLmZvbGxvd2luZyA/ICfinJMgRk9MTE9XSU5HJyA6ICcrIEZPTExPVyd9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5wcm9wcy5pbmRleCA9PT0gMiA/IDxiciAvPiA6IDxociAvPn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuU2lkZWJhclVzZXIucHJvcFR5cGVzID0ge1xuICBmb2xsb3dVc2VyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB1c2VyOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTaWRlYmFyVXNlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2FwcC9qYXZhc2NyaXB0L3NpZGViYXItd2lkZ2V0L3NpZGViYXJVc2VyLmpzeCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///200\n");

/***/ })

},[197]);